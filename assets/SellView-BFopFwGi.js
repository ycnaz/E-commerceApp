import{G as V,l as T,u as D,n as A,j as a,b as _,d as B,o as d,c as b,a as t,z as p,E as g,H as L,F as M,r as R,f as j,t as h,s as E,h as F,q as N}from"./index-BahIuGGq.js";import{_ as z}from"./ItemCard-Ds7-yqsd.js";const G={class:"h-full flex gap-x-20 justify-center items-center max-xl:flex-col max-xl:pb-5"},H=t("h2",{class:"text-5xl font-semibold border-b border-b-black w-full"},"Sell",-1),O={class:"flex gap-x-10 max-md:flex-col"},W={class:"flex flex-col"},$=t("label",{for:"title"},"Title",-1),J=t("label",{for:"price"},"Price",-1),K=t("label",{for:"category"},"Category",-1),Q=t("option",{disabled:"",value:""},"Choose...",-1),X=["value"],Y={class:"flex flex-col"},Z=t("label",{for:"description"},"Description",-1),ee=t("label",{for:"image"},"Image",-1),te=["required"],le={class:"bg-rose-500 h-10 text-white hover:bg-rose-400 focus:bg-rose-400 active:bg-rose-600 transition-all"},se={__name:"SellView",props:{id:{required:!1}},setup(y){const m=y,w=V(),P=T(),v=D(),S=A(),r=a(""),i=a(0),u=a(""),n=a(""),U=a(null),f=a(""),o=a(!1),s=a(!1),I=c=>{const e=c.target.files[0];e&&(U.value=e,f.value=URL.createObjectURL(e))},x=_(()=>({title:r.value,price:i.value,category:u.value,description:n.value,image:f.value})),q=()=>{s.value?(o.value?v.editAnItem(m.id,x.value):v.addToItems(x.value),S.push({name:"products"})):s.value=!0},C=c=>{const e=v.items.find(l=>l.id==c);e&&P.userId===e.userId&&(o.value=!0,r.value=e.title,i.value=e.price,u.value=e.category,n.value=e.description,f.value=e.image)},k=_(()=>!o.value&&!s.value?"Preview":o.value&&!s.value?"Update":"Publish");return B(()=>{m.id&&C(m.id)}),(c,e)=>(d(),b("div",G,[t("form",{onSubmit:E(q,["prevent"]),class:"flex flex-col text-black gap-y-5 py-5 max-[430px]:w-full max-[430px]:px-5"},[H,t("div",O,[t("div",W,[$,p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),class:"w-96 max-[430px]:w-full",type:"text",id:"title","aria-label":"Product Title",required:""},null,512),[[g,r.value]]),J,p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),class:"w-96 max-[430px]:w-full",type:"number",min:"1",max:"100000000",step:"0.01",id:"price","aria-label":"Product Price",required:""},null,512),[[g,i.value]]),K,p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l),class:"w-96 max-[430px]:w-full",id:"category","aria-label":"Product Category",required:""},[Q,(d(!0),b(M,null,R(j(w).items,l=>(d(),b("option",{key:l,value:l},h(l.charAt(0).toUpperCase()+l.slice(1)),9,X))),128))],512),[[L,u.value]])]),t("div",Y,[Z,p(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>n.value=l),class:"min-h-10 max-h-[115px]",id:"description","aria-label":"Product Description",maxlength:"500",required:""},null,512),[[g,n.value]]),ee,t("input",{onChange:I,type:"file",id:"image",accept:"image/*","aria-label":"Product Image",required:!o.value},null,40,te)])]),t("button",le,h(k.value),1)],32),s.value?(d(),F(z,{key:0,item:x.value,disabled:!0},null,8,["item"])):N("",!0)]))}};export{se as default};
